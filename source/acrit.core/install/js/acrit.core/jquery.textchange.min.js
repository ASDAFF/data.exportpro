(function(a){a.event.special.textchange={setup:function(c,b){a(this).data("lastValue","true"===this.contentEditable?a(this).html():a(this).val());a(this).bind("keyup.textchange",a.event.special.textchange.handler);a(this).bind("cut.textchange paste.textchange input.textchange",a.event.special.textchange.delayedHandler)},teardown:function(c){a(this).unbind(".textchange")},handler:function(c){a.event.special.textchange.triggerIfChanged(a(this))},delayedHandler:function(c){var b=a(this);setTimeout(function(){a.event.special.textchange.triggerIfChanged(b)},
25)},triggerIfChanged:function(a){var b="true"===a[0].contentEditable?a.html():a.val();b!==a.data("lastValue")&&(a.trigger("textchange",[a.data("lastValue")]),a.data("lastValue",b))}};a.event.special.hastext={setup:function(c,b){a(this).bind("textchange",a.event.special.hastext.handler)},teardown:function(c){a(this).unbind("textchange",a.event.special.hastext.handler)},handler:function(c,b){""===b&&b!==a(this).val()&&a(this).trigger("hastext")}};a.event.special.notext={setup:function(c,b){a(this).bind("textchange",
a.event.special.notext.handler)},teardown:function(c){a(this).unbind("textchange",a.event.special.notext.handler)},handler:function(c,b){""===a(this).val()&&a(this).val()!==b&&a(this).trigger("notext")}}})(jQuery);